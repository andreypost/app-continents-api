{"version":3,"sources":["webpack://app-continents-api/./src/countries/useCollapseList.ts","webpack://app-continents-api/./src/countries/Countries.tsx","webpack://app-continents-api/./src/pages/Main.tsx"],"names":["useCollapseList","e","list","target","parentNode","querySelectorAll","classList","toggle","GET_COUNTRIES","gql","listContext","useContext","ListContext","useState","listState","setListState","useQuery","data","loading","error","Loader","style","color","className","continents","length","map","continent","onClick","name","countries","country","languages","language","tree","nodes","closest","add"],"mappings":"ktCAAO,I,EAAMA,EAAkB,SAClBC,EAAkBC,GAAM,UACZD,EAAEE,OAAOC,WAAWC,iBAAiBH,IADzB,IAC7B,2BAA6D,QACtDI,UAAUC,OAAO,QAFK,gC,8BCkB/BC,GAAgBC,QAAH,4JA6CnB,QAhC4B,WAC1B,IAAMC,GAAcC,gBAAWC,KAC/B,GAAkCC,cAASH,GAA3C,eAAOI,EAAP,KAAkBC,EAAlB,KACA,GAAiCC,cAAyBR,GAAlDS,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,MAEvB,OAAID,GAAgB,SAACE,EAAA,EAAD,IAChBD,GAAc,cAAGE,MAAO,CAAEC,MAAO,OAAnB,oFAGhB,gBAAKC,UAAU,YAAf,SACGN,GAAQA,EAAKO,WAAWC,OAAS,GAAKR,EAAKO,WAAWE,KAAI,SAACC,GAAD,OACzD,eAAyBJ,UAAU,OAAnC,UACE,2BAAI,iBAAMK,QAAS,SAAA3B,GAAC,OAAID,EAAyBC,EAAG,eAAhD,SAAgE0B,EAAUE,OAE3EF,EAAUG,UAAUJ,KAAI,SAAAK,GAAO,OAC9B,eAAuBR,UAAW,aAAeT,EAAjD,UACE,2BAAI,iBAAMc,QAAS,SAAA3B,GAAC,OAAID,EAAyBC,EAAG,gBAAhD,SAAiE8B,EAAQF,OAE1EE,EAAQC,UAAUN,KAAI,SAACO,GAAD,OACrB,eAAwBV,UAAWT,EAAY,cAA/C,UACE,yBAAI,iBAAMc,QAAS,SAAA3B,GAAC,ODpDX,SAMjBA,EAAkBiC,EAAMC,EAAOpB,GAAc,UAClCd,EAAEE,OAAOiC,QAAQF,GAAM7B,iBAAiB8B,IADN,IACnD,2BAAiE,QAC1D7B,UAAU+B,IAAI,QAF8B,8BAInDtB,EAAa,QC0CyBf,CAA0BC,EAAG,QAAS,0BAA2Bc,IAArF,SAAqGkB,EAASJ,UAD3GI,EAASJ,aAJfE,EAAQF,aAJdF,EAAUE,YChC3B,EAPuB,WACrB,OACE,iBAAMN,UAAU,UAAhB,UACE,SAAC,EAAD","file":"184.bundle.js","sourcesContent":["export const useCollapseList = {\r\n    openTree(e: {target: any}, list) {\r\n        for (const ul of e.target.parentNode.querySelectorAll(list)) {\r\n            ul.classList.toggle('none')\r\n        }\r\n    },\r\n    closeTree(e: {target: any}, tree, nodes, setListState) {\r\n        for (const ul of e.target.closest(tree).querySelectorAll(nodes)) {\r\n            ul.classList.add('none')\r\n        }\r\n        setListState('none')\r\n    }\r\n}","import React, { useContext, useState } from 'react'\r\nimport { useQuery, gql } from '@apollo/client'\r\nimport { useCollapseList } from './useCollapseList'\r\nimport './countries_styles.scss'\r\nimport Loader from '../components/Loader'\r\nimport { ListContext } from '..'\r\n\r\ninterface Continents {\r\n  name: string,\r\n  countries: [{\r\n    name: string,\r\n    languages: [{ name: string }]\r\n  }]\r\n}\r\n\r\ninterface ContinentsData {\r\n  continents: Continents[]\r\n}\r\n\r\nconst GET_COUNTRIES = gql`\r\nquery continents {\r\n  continents {\r\n    name,\r\n    countries {\r\n      name,\r\n      languages {\r\n        name\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nconst Countries: React.FC = () => {\r\n  const listContext = useContext(ListContext)\r\n  const [listState, setListState] = useState(listContext)\r\n  const { data, loading, error } = useQuery<ContinentsData>(GET_COUNTRIES)\r\n\r\n  if (loading) return <Loader />\r\n  if (error) return <p style={{ color: 'red' }}>Sorry, it is not possible to receive data now, maybe try again later.</p>\r\n\r\n  return (\r\n    <div className=\"countries\">\r\n      {data && data.continents.length > 0 && data.continents.map((continent: { name: string; countries: any[] }) =>\r\n        <ul key={continent.name} className=\"tree\">\r\n          <li><span onClick={e => useCollapseList.openTree(e, '.firstList')}>{continent.name}</span>\r\n\r\n            {continent.countries.map(country =>\r\n              <ul key={country.name} className={'firstList ' + listState}>\r\n                <li><span onClick={e => useCollapseList.openTree(e, '.secondList')}>{country.name}</span>\r\n\r\n                  {country.languages.map((language: { name: string }) =>\r\n                    <ul key={language.name} className={listState + ' secondList'}>\r\n                      <li><span onClick={e => useCollapseList.closeTree(e, '.tree', '.firstList, .secondList', setListState)}>{language.name}</span></li>\r\n                    </ul>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default Countries\r\n","import React from 'react'\r\nimport './main_styles.scss'\r\nimport Countries from '../countries/Countries'\r\n\r\nconst Main: React.FC = () => {\r\n  return (\r\n    <main className=\"section\">\r\n      <Countries />\r\n    </main>\r\n  )\r\n}\r\nexport default Main\r\n"],"sourceRoot":""}