{"version":3,"sources":["webpack://app-continents-api/./src/countries/useCollapseList.ts","webpack://app-continents-api/./src/countries/Countries.tsx","webpack://app-continents-api/./src/pages/Main.tsx"],"names":["useCollapseList","firstList","e","target","parentNode","querySelectorAll","classList","toggle","secondList","closeTree","closest","add","GET_COUNTRIES","gql","listContext","useContext","ListContext","useState","listState","useQuery","data","loading","error","Loader","style","color","console","log","continents","length","map","continent","className","onClick","name","countries","country","languages","language"],"mappings":"ktCAAO,I,EAAMA,EAAkB,CAC3BC,UAD2B,SACjBC,GAAkB,UACPA,EAAEC,OAAOC,WAAWC,iBAAiB,eAD9B,IACxB,2BAAqE,QAC9DC,UAAUC,OAAO,QAFA,gCAK5BC,WAN2B,SAMhBN,GAAkB,UACRA,EAAEC,OAAOC,WAAWC,iBAAiB,gBAD7B,IACzB,2BAAsE,QAC/DC,UAAUC,OAAO,QAFC,gCAK7BE,UAX2B,SAWjBP,GAAkB,UACPA,EAAEC,OAAOO,QAAQ,SAASL,iBAAiB,OADpC,IACxB,2BAAmE,QAC5DC,UAAUK,IAAI,QAFG,iC,8BCQ1BC,GAAgBC,QAAH,4JA+CnB,QAlC4B,WAC1B,IAAMC,GAAcC,gBAAWC,KAC/B,GAAkCC,cAASH,GAA3C,eAAOI,EAAP,KACA,GADA,MACiCC,cAAyBP,IAAlDQ,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,MAEvB,OAAID,GAAgB,SAACE,EAAA,EAAD,IAChBD,GAAc,cAAGE,MAAO,CAAEC,MAAO,OAAnB,oFAElBC,QAAQC,IAAIb,IAGV,8BACGM,GAAQA,EAAKQ,WAAWC,OAAS,GAAKT,EAAKQ,WAAWE,KAAI,SAACC,GAAD,OACzD,eAAyBC,UAAU,YAAnC,UACE,gBAAIA,UAAU,OAAd,WAAqB,iBAAMC,QAASjC,EAAgBC,UAA/B,SAA2C8B,EAAUG,OAEvEH,EAAUI,UAAUL,KAAI,SAAAM,GAAO,OAC9B,eAAuBJ,UAAWd,EAAY,aAA9C,UACE,2BAAI,iBAAMe,QAASjC,EAAgBQ,WAA/B,SAA4C4B,EAAQF,OAErDE,EAAQC,UAAUP,KAAI,SAACQ,GAAD,OACrB,eAAwBN,UAAWd,EAAY,cAA/C,UACE,yBAAI,iBAAMe,QAASjC,EAAgBS,UAA/B,SAA2C6B,EAASJ,UADjDI,EAASJ,aAJfE,EAAQF,aAJdH,EAAUG,aClC3B,EAPuB,WACrB,OACE,iBAAMF,UAAU,UAAhB,UACE,SAAC,EAAD","file":"184.bundle.js","sourcesContent":["export const useCollapseList = {\r\n    firstList(e: {target: any}) {\r\n        for (const ul of e.target.parentNode.querySelectorAll('.firstList')) {\r\n            ul.classList.toggle('none')\r\n        }\r\n    },\r\n    secondList(e: {target: any}) {\r\n        for (const ul of e.target.parentNode.querySelectorAll('.secondList')) {\r\n            ul.classList.toggle('none')\r\n        }\r\n    },\r\n    closeTree(e: {target: any}) {\r\n        for (const ul of e.target.closest('.list').querySelectorAll('ul')) {\r\n            ul.classList.add('none')\r\n        }\r\n    }\r\n}","import React, { useContext, useState } from 'react'\r\nimport { useQuery, gql } from '@apollo/client'\r\nimport { useCollapseList } from './useCollapseList'\r\nimport './countries_styles.scss'\r\nimport Loader from '../components/Loader'\r\nimport { ListContext } from '..'\r\n\r\ninterface Continents {\r\n  name: string,\r\n  countries: [{\r\n    name: string,\r\n    languages: [{ name: string }]\r\n  }]\r\n}\r\n\r\ninterface ContinentsData {\r\n  continents: Continents[]\r\n}\r\n\r\nconst GET_COUNTRIES = gql`\r\nquery continents {\r\n  continents {\r\n    name,\r\n    countries {\r\n      name,\r\n      languages {\r\n        name\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nconst Countries: React.FC = () => {\r\n  const listContext = useContext(ListContext)\r\n  const [listState, setListState] = useState(listContext)\r\n  const { data, loading, error } = useQuery<ContinentsData>(GET_COUNTRIES)\r\n\r\n  if (loading) return <Loader />\r\n  if (error) return <p style={{ color: 'red' }}>Sorry, it is not possible to receive data now, maybe try again later.</p>\r\n\r\n  console.log(listContext)\r\n\r\n  return (\r\n    <>\r\n      {data && data.continents.length > 0 && data.continents.map((continent: { name: string; countries: any[] }) =>\r\n        <ul key={continent.name} className=\"countries\">\r\n          <li className=\"list\"><span onClick={useCollapseList.firstList}>{continent.name}</span>\r\n\r\n            {continent.countries.map(country =>\r\n              <ul key={country.name} className={listState + ' firstList'}>\r\n                <li><span onClick={useCollapseList.secondList}>{country.name}</span>\r\n\r\n                  {country.languages.map((language: { name: string }) =>\r\n                    <ul key={language.name} className={listState + ' secondList'}>\r\n                      <li><span onClick={useCollapseList.closeTree}>{language.name}</span></li>\r\n                    </ul>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default Countries\r\n","import React from 'react'\r\nimport './main_styles.scss'\r\nimport Countries from '../countries/Countries'\r\n\r\nconst Main: React.FC = () => {\r\n  return (\r\n    <main className=\"section\">\r\n      <Countries />\r\n    </main>\r\n  )\r\n}\r\nexport default Main\r\n"],"sourceRoot":""}